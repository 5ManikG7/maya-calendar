!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=e=>{const t=[144e3,7200,360,20,1];let n=0;for(let o=0;o<t.length;o++)n+=e[o]*t[o];return n},a=(e,t)=>{const n=o(e.getLongCount())+t,a=new Date(-4713,10,24);return a.setDate(a.getDate()+n),a},r=(e,t)=>{const n=new Date(-4713,10,24),o=Math.round((e-n)/864e5);return new i((e=>{const t=[144e3,7200,360,20,1],n=[];let o=e;for(let e=0;e<t.length;e++)n.push(Math.floor(o/t[e])),o%=t[e];return n})(o-t))},l=e=>{const t=(e-new Date(200,2,1))/864e5,n=Math.floor(t/36524),o=n-Math.floor((n+2)/4),a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return a.setDate(e.getDate()-o),a},u=e=>{const t=(e-new Date(200,2,1))/864e5,n=Math.floor(t/36524),o=n-Math.floor((n+2)/4),a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return a.setDate(e.getDate()+o),a},g=["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Edznab","Cauac","Ahau"],c=["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"];class i{constructor(e){this.longCount=e}getLongCount(){return this.longCount}setTzolkin(){const e=o(this.longCount);let t=(e+4)%13;0===t&&(t=13);const n=g[(e+19)%20];this.tzolkin=[t,n]}getTzolkin(){return this.tzolkin}setHaab(){const e=(o(this.longCount)+348)%365;let t,n;e<361?(t=e%20,n=c[Math.floor(e/20)]):(t=e-360,n="Uayeb"),this.haab=[t,n]}getHaab(){return this.haab}setLordOfNight(){const e=o(this.longCount);this.lordOfNight=e%9==0?9:e%9}getLordOfNight(){return this.lordOfNight}}const s={glyphPanel:document.querySelector(".glyph-panel"),mayaForm:document.getElementById("maya-form"),correlationForm:document.getElementById("corr-form"),gregorianForm:document.getElementById("greg-form"),julianForm:document.getElementById("jul-form"),longCountInput:document.querySelectorAll(".lc-index"),longCount:{0:document.getElementById("lc-0"),1:document.getElementById("lc-1"),2:document.getElementById("lc-2"),3:document.getElementById("lc-3"),4:document.getElementById("lc-4")},lcGlyphs:{0:document.getElementById("lc-0-coef"),1:document.getElementById("lc-1-coef"),2:document.getElementById("lc-2-coef"),3:document.getElementById("lc-3-coef"),4:document.getElementById("lc-4-coef")},calendarRound:document.getElementById("calendar-round"),tzolkinCoef:document.getElementById("tzolkin-coef"),tzolkinName:document.getElementById("tzolkin-name"),glyphG:document.getElementById("glyph-G"),haabCoef:document.getElementById("haab-coef"),haabName:document.getElementById("haab-name"),constant:document.getElementById("constant"),gregorianDay:document.getElementById("greg-day"),gregorianMonth:document.getElementById("greg-month"),gregorianYear:document.getElementById("greg-year"),gregorianEra:document.getElementById("greg-era"),julianDay:document.getElementById("jul-day"),julianMonth:document.getElementById("jul-month"),julianYear:document.getElementById("jul-year"),julianEra:document.getElementById("jul-era")},d=()=>s.constant.value?parseInt(s.constant.value):0;(function(){let e,t,n,o;const g=(e,t)=>{const o=n.getLongCount().slice();"increase"===e&&"3"!==t&&o[t]<19?o[t]++:"increase"===e&&"3"===t&&o[t]<17?o[t]++:"decrease"===e&&o[t]>0&&o[t]--,(n=new i(o)).setTzolkin(),n.setHaab(),n.setLordOfNight()},c=()=>{const e=(()=>{const e=[];return s.longCountInput.forEach(t=>{t.value?e.push(parseInt(t.value)):e.push(0)}),e})();(n=new i(e)).setTzolkin(),n.setHaab(),n.setLordOfNight()},m=()=>{const[t,n,o]=(()=>{let e,t;const n=s.gregorianEra.value;return t=s.gregorianYear.value?parseInt(s.gregorianYear.value):1,"BCE"===n&&(t=-(t-1)),[t,parseInt(s.gregorianMonth.value),e=s.gregorianDay.value?parseInt(s.gregorianDay.value):1]})();e.setFullYear(t),e.setMonth(n),e.setDate(o)},h=()=>{const[e,n,o]=(()=>{let e,t;const n=s.julianEra.value;return t=s.julianYear.value?parseInt(s.julianYear.value):1,"BCE"===n&&(t=-(t-1)),[t,parseInt(s.julianMonth.value),e=s.julianDay.value?parseInt(s.julianDay.value):1]})();t.setFullYear(e),t.setMonth(n),t.setDate(o)};function y(){const t=d();e=a(n,t)}function f(){t=l(e)}function p(){const t=d();(n=r(e,t)).setTzolkin(),n.setHaab(),n.setLordOfNight()}const E=(e,t,n)=>{(e=>{const t=e.getLongCount(),n=e.getTzolkin(),o=e.getHaab(),a=e.getLordOfNight();for(let e=0;e<5;e++)s.longCount[e].value=t[e],s.lcGlyphs[e].src=`img/number-${t[e]}.png`;s.calendarRound.innerHTML=`${n.join(" ")} ${o.join(" ")}`,s.tzolkinCoef.src=`img/number-${n[0]}.png`,s.tzolkinName.src=`img/${n[1]}.png`,s.glyphG.src=`img/G${a}.png`,0===o[0]?s.haabCoef.src="img/chum.png":s.haabCoef.src=`img/number-${o[0]}.png`,s.haabName.src=`img/${o[1]}.png`})(e),(e=>{let t=e.getFullYear();const n=t>0?"CE":"BCE";"BCE"===n&&(t=-(t-1));const o=e.getMonth(),a=e.getDate();s.gregorianDay.value=a,s.gregorianMonth.value=o,s.gregorianYear.value=t,s.gregorianEra.value=n})(t),(e=>{let t=e.getFullYear();const n=t>0?"CE":"BCE";"BCE"===n&&(t=-(t-1));const o=e.getMonth(),a=e.getDate();s.julianDay.value=a,s.julianMonth.value=o,s.julianYear.value=t,s.julianEra.value=n})(n)};return{init:function(){e=new Date,t=l(e),(n=r(e,o=584286)).setTzolkin(),n.setHaab(),n.setLordOfNight(),E(n,e,t),s.glyphPanel.addEventListener("click",o=>{o.target.dataset.action&&(g(o.target.dataset.action,o.target.dataset.index),y(),f(),E(n,e,t))}),s.mayaForm.addEventListener("input",o=>{c(),y(),f(),E(n,e,t)}),s.correlationForm.addEventListener("input",o=>{y(),f(),E(n,e,t)}),s.gregorianForm.addEventListener("input",o=>{m(),p(),f(),E(n,e,t)}),s.julianForm.addEventListener("input",o=>{h(),e=u(t),p(),E(n,e,t)})}}})().init()}]);